import org.gradle.util.GradleVersion

def gradleWrapperVersion = findProperty('gradleWrapperVersion') ?: '7.2'

task checkAndUpdateGradleWrapper {
    doLast {
        def currentGradleVersion = GradleVersion.current().baseVersion
        def targetGradleVersion = GradleVersion.version(gradleWrapperVersion)

        if (currentGradleVersion < targetGradleVersion) {
            println "Updating Gradle Wrapper from version ${currentGradleVersion} to ${targetGradleVersion}..."

            tasks.wrapper {
                gradleVersion = gradleWrapperVersion
                distributionType = Wrapper.DistributionType.ALL
            }.generateWrapper()

            println "Gradle Wrapper has been updated to version ${targetGradleVersion}."
        } else {
            println "Gradle Wrapper version ${currentGradleVersion} is up to date."
        }
    }
}

./gradlew checkAndUpdateGradleWrappe<build>
                                        <plugins>

                                        </plugins>
                                    </build>
r